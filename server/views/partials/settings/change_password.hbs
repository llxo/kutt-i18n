<section id="change-password-wrapper">  <h2>
    {{i18n 'settings.changePassword.title'}}
  </h2>
  <p>{{i18n 'settings.changePassword.description'}}</p>
  <form 
    id="change-password"
    hx-post="/api/auth/change-password"
    hx-select="form"
    hx-swap="outerHTML"
    hx-sync="this:abort"
  >
    <div class="inputs">      <label class="{{#if errors.currentpassword}}error{{/if}}">
        {{i18n 'settings.changePassword.current'}}:
        <input 
          id="currentpassword" 
          name="currentpassword" 
          type="password" 
          placeholder="{{i18n 'settings.changePassword.current'}}..."
          hx-preserve="true"
        />
        {{#if errors.currentpassword}}<p class="error">{{errors.currentpassword}}</p>{{/if}}
      </label>
      <label class="{{#if errors.newpassword}}error{{/if}}">
        {{i18n 'settings.changePassword.new'}}:
        <input 
          id="newpassword" 
          name="newpassword" 
          type="password" 
          placeholder="{{i18n 'settings.changePassword.new'}}..."
          hx-preserve="true"
        />
        {{#if errors.newpassword}}<p class="error">{{errors.newpassword}}</p>{{/if}}
      </label>
    </div>
    <button type="submit" class="primary">
      <span>{{> icons/reload}}</span>
      <span>{{> icons/spinner}}</span>
      {{i18n 'settings.changePassword.update'}}
    </button>
    {{#if error}}
      {{#unless errors}}
        <p class="error">{{error}}</p>
      {{/unless}}
    {{else if success}}
      <p class="success">{{success}}</p>
    {{/if}}
  </form>
</section>